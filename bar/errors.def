//***********************************************************************
//
// $Source: /home/torsten/cvs/bar/errors.def,v $
// $Revision$
// $Author$
// Contents: Backup ARchiver errors definition
// Systems: all
//
//***********************************************************************

INCLUDE <config.h>

#ifdef HAVE_LIBSSH2
INCLUDE "libssh2.h"
#endif

IMPORT java.lang.System

NONE    "none"
DEFAULT "unknownx"

// --- general ----------------------------------------------------------
ERROR INSUFFICIENT_MEMORY              TR("insufficient memory")
ERROR INIT                             TR("initialize fail")
ERROR INVALID_ARGUMENT                 TR("invalid argument")
ERROR CONFIG                           TR("config error")
ERROR ABORTED                          TR("aborted")
ERROR INTERRUPTED                      TR("interrupted")
ERROR FUNCTION_NOT_SUPPORTED           TR("function not supported")
ERROR STILL_NOT_IMPLEMENTED            TR("function still not implemented")
ERROR DAEMON_FAIL                      TR("run as daemon fail")
ERROR IPC                              TR("inter-process communication fail")
ERROR INIT_PASSWORD                    TR("initialize password fail")
ERROR NO_PASSWORD                      TR("no password given")
ERROR INVALID_PASSWORD                 TR("invalid password")
ERROR PROCESS                          TR("process data fail")

// --- patterns ---------------------------------------------------------
// patterns
ERROR INVALID_PATTERN
  stringSet(errorText,sizeof(errorText),TR("invalid pattern"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

// --- network ----------------------------------------------------------
ERROR NO_HOST_NAME                     TR("no host name given")
ERROR HOST_NOT_FOUND
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("host '%s' not found"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("host not found"));
  }

ERROR CONNECT_FAIL
  stringSet(errorText,sizeof(errorText),TR("connect fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR TOO_MANY_CONNECTIONS             TR("too many concurrent connections")
ERROR NO_LOGIN_NAME                    TR("no login name given")
ERROR NO_LOGIN_PASSWORD                TR("no password given")
ERROR NETWORK_SEND
  stringSet(errorText,sizeof(errorText),TR("sending data fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR NETWORK_RECEIVE                  TR("receiving data fail")
ERROR NETWORK_EXECUTE_FAIL             TR("execute command fail")
ERROR NETWORK_TIMEOUT                  TR("timeout receive/send data")
ERROR NO_RESPONSE                      TR("no response from remote program")
ERROR INVALID_RESPONSE                 TR("invalid response from remote program")

// --- TLS/SSL ----------------------------------------------------------
ERROR INIT_TLS                         TR("initialize TLS (SSL) fail")
ERROR NO_TLS_CA                        TR("no TLS (SSL) certificate authority file")
ERROR NO_TLS_CERTIFICATE               TR("no TLS (SSL) certificate file")
ERROR NO_TLS_KEY                       TR("no or unreadable TLS (SSL) key file")
ERROR INVALID_TLS_CA                   TR("invalid TLS (SSL) certificate authority")
ERROR INVALID_TLS_CERTIFICATE          TR("invalid TLS (SSL) certificate")
ERROR TLS_CERTIFICATE_EXPIRED
  stringSet(errorText,sizeof(errorText),TR("TLS (SSL) certificate expired"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR TLS_CERTIFICATE_NOT_ACTIVE
  stringSet(errorText,sizeof(errorText),TR("TLS (SSL) certificate is still not active"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR TLS_HANDSHAKE
  stringSet(errorText,sizeof(errorText),TR("TLS (SSL) handshake failure"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR INVALID_SSH_SPECIFIER            TR("invalid SSH specifier")
ERROR NO_SSH_PUBLIC_KEY                TR("no SSH public key")
ERROR NO_SSH_PRIVATE_KEY               TR("no SSH private key")
ERROR NO_SSH_PASSWORD
  stringSet(errorText,sizeof(errorText),TR("no SSH password given"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(" for '%s'"),ERROR_DATA);
  }

ERROR INVALID_SSH_PASSWORD
  stringSet(errorText,sizeof(errorText),TR("invalid SSH password"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(" for '%s'"),ERROR_DATA);
  }

ERROR INVALID_SSH_PRIVATE_KEY
  stringSet(errorText,sizeof(errorText),TR("invalid SSH private key"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(" for '%s'"),ERROR_DATA);
  }

ERROR SSH_SESSION_FAIL                 TR("initialize SSH session fail")
ERROR SSH_AUTHENTICATION
  stringSet(errorText,sizeof(errorText),TR("SSH authentication fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(" for '%s'"),ERROR_DATA);
  }

ERROR SSH
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringSet(errorText,sizeof(errorText),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("ssh protocol error"));
  }

// --- storage ----------------------------------------------------------
ERROR INIT_STORAGE                     TR("initialize storage fail")
ERROR NO_STORAGE_NAME                  TR("no storage name given")
ERROR INVALID_STORAGE                  TR("invalid storage")

// --- FTP --------------------------------------------------------------
ERROR INVALID_FTP_SPECIFIER            TR("invalid FTP specifier")
ERROR FTP_SESSION_FAIL
  stringSet(errorText,sizeof(errorText),TR("initialize FTP session fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(": %s"),ERROR_DATA);
  }

ERROR NO_FTP_PASSWORD                  TR("no FTP password given")
ERROR INVALID_FTP_PASSWORD             TR("invalid FTP password")
ERROR FTP_AUTHENTICATION
  stringSet(errorText,sizeof(errorText),TR("invalid FTP user/password"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(": %s"),ERROR_DATA);
  }

ERROR FTP_GET_SIZE                     TR("get FTP file size fail")
//ERROR FTP_CREATE                       TR("create FTP file fail")
//ERROR FTP_READ                         TR("read FTP file fail")
//ERROR FTP_WRITE                        TR("write FTP file fail")
//ERROR FTP_DELETE                       TR("delete FTP file fail")

// --- WebDAV -----------------------------------------------------------
ERROR INVALID_WEBDAV_SPECIFIER         TR("invalid WebDAV specifier")
ERROR WEBDAV_SESSION_FAIL              TR("initialize WebDAV session fail")
ERROR NO_WEBDAV_PASSWORD
  stringSet(errorText,sizeof(errorText),TR("no WebDAV password given"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(" for '%s'"),ERROR_DATA);
  }

ERROR INVALID_WEBDAV_PASSWORD          TR("invalid WebDAV password")
ERROR WEBDAV_AUTHENTICATION            TR("invalid WebDAV user/password")
ERROR WEBDAV_GET_SIZE                  TR("get WebDAV file size fail")

// --- compress ---------------------------------------------------------
ERROR INIT_COMPRESS
  stringSet(errorText,sizeof(errorText),TR("initialize compress fail"));
  stringAppend(errorText,sizeof(errorText),": ");
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }
  else
  {
    stringAppend(errorText,sizeof(errorText),ERROR_ERRNO_TEXT);
  }

ERROR INIT_DECOMPRESS
  stringSet(errorText,sizeof(errorText),TR("initialize decompress fail"));
  stringAppend(errorText,sizeof(errorText),": ");
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }
  else
  {
    stringAppend(errorText,sizeof(errorText),ERROR_ERRNO_TEXT);
  }

ERROR DEFLATE_FAIL
  stringSet(errorText,sizeof(errorText),TR("compress fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR INFLATE_FAIL
  stringSet(errorText,sizeof(errorText),TR("decompress fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR COMPRESS_EOF                     TR("end of compressed file")
ERROR DELTA_SOURCE_NOT_FOUND
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("delta source '%s' not found"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("delta source not found"));
  }

ERROR INVALID_COMPRESS_ALGORITHM       TR("invalid compress algorithm")
ERROR UNKNOWN_COMPRESS_ALGORITHM       TR("unknown compress algorithm")
ERROR COMPRESS_ALGORITHM_NOT_SUPPORTED TR("compress algorithm not supported")

// --- crypt ------------------------------------------------------------
ERROR UNSUPPORTED_BLOCK_LENGTH         TR("unsupported block length")
ERROR INIT_CRYPT
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("initialize crypt fail: %s"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("initialize crypt fail"));
  }

ERROR NO_DECRYPT_KEY                   TR("no decrypt key for cipher")
ERROR NO_CRYPT_PASSWORD                TR("no password given for cipher")
ERROR INVALID_CRYPT_PASSWORD           TR("invalid decryption password")
ERROR CRYPT_PASSWORDS_MISMATCH         TR("encryption passwords mismatch")

ERROR INIT_CIPHER
  stringSet(errorText,sizeof(errorText),TR("initialize cipher fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR ENCRYPT_FAIL
  stringSet(errorText,sizeof(errorText),TR("encrypt fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR DECRYPT_FAIL
  stringSet(errorText,sizeof(errorText),TR("decrypt fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR CREATE_KEY_FAIL
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("create public/private key '%s' fail"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("create public/private key fail"));
  }

ERROR INVALID_ENCODING                 TR("invalid encoding")

ERROR INIT_KEY
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("initialize key fail (error: %s)"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("initialize key fail"));
  }

ERROR KEY_NOT_FOUND
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("public/private key '%s' not found"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("public/private key not found"));
  }

ERROR READ_KEY_FAIL
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("read public/private key '%s' fail"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("read public/private key fail"));
  }

ERROR INVALID_KEY
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("invalid key: %s"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("invalid key"));
  }

ERROR INVALID_KEY_LENGTH               TR("invalid key length")
// Note: because of name clash with Windows include use INVALID_BLOCK_LENGTH_ instead of INVALID_BLOCK_LENGTH
ERROR INVALID_BLOCK_LENGTH_            TR("invalid block length")
ERROR INVALID_SALT_LENGTH              TR("invalid salt length")
ERROR NO_PUBLIC_CRYPT_KEY              TR("no public encryption key")
ERROR NO_PRIVATE_CRYPT_KEY             TR("no private encryption key")
ERROR NOT_A_PUBLIC_CRYPT_KEY
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("key '%s' is not a public encryption key"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("key is not a public encryption key"));
  }

ERROR NOT_A_PRIVATE_CRYPT_KEY
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("key '%s' is not a private encryption key"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("key '%s' is not a private encryption key"));
  }

ERROR NO_PUBLIC_SIGNATURE_KEY          TR("no public signature key")
ERROR NO_PRIVATE_SIGNATURE_KEY         TR("no private signature key")
ERROR NOT_A_PUBLIC_SIGNATURE_KEY
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("key '%s' is not a public signature key"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("key is not a public signature key"));
  }

ERROR NOT_A_PRIVATE_SIGNATURE_KEY
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("key '%s' is not a private signature key"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("key '%s' is not a private signature key"));
  }

ERROR KEY_ENCRYPT_FAIL
  stringSet(errorText,sizeof(errorText),TR("key encryption fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR KEY_DECRYPT_FAIL
  stringSet(errorText,sizeof(errorText),TR("key decryption fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR WRONG_PRIVATE_KEY                TR("wrong private decryption key")

ERROR INVALID_CRYPT_ALGORITHM          TR("invalid encryption algorithm")
ERROR UNKNOWN_CRYPT_ALGORITHM          TR("unknown encryption algorithm")

ERROR INIT_HASH                        TR("initialize hash fail")
ERROR INVALID_HASH_ALGORITHM           TR("invalid hash algorithm")
ERROR UNKNOWN_HASH_ALGORITHM           TR("unknown hash algorithm")

ERROR INIT_MAC                         TR("initialize message authentication code fail")
ERROR INVALID_MAC_ALGORITHM            TR("invalid message authentication code algorithm")
ERROR UNKNOWN_MAC_ALGORITHM            TR("unknown message authentication code algorithm")

// --- file i/o ---------------------------------------------------------
ERROR NO_FILE_NAME                     TR("no file name given")

ERROR CREATE_FILE
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("create file"));
    if (!stringIsEmpty(ERROR_DATA))
    {
      stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
    }
    stringAppend(errorText,sizeof(errorText),TR(" fail"));
  }

ERROR OPEN_FILE
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("open file"));
    if (!stringIsEmpty(ERROR_DATA))
    {
      stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
    }
    stringAppend(errorText,sizeof(errorText),TR(" fail"));
  }

ERROR CREATE_DIRECTORY
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("create directory"));
    if (!stringIsEmpty(ERROR_DATA))
    {
      stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
    }
    stringAppend(errorText,sizeof(errorText),TR(" fail"));
  }

ERROR IO
  stringSet(errorText,sizeof(errorText),(ERROR_ERRNO != 0) ? strerror(ERROR_ERRNO) : TR("i/o error"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR READ_FILE
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("read file fail: "));
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }

ERROR END_OF_FILE
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("end of file: "));
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }

ERROR WRITE_FILE
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("write file fail: "));
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }

ERROR DELETE_FILE
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("delete file fail: "));
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }

ERROR OPEN_DIRECTORY
  // Note: do not add error text to error message if error number is set; file name should be part of error text
  if (ERROR_ERRNO != 0)
  {
    stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  }
  else
  {
/*
TODO: remove
    errorText[0] = '\0';
    switch (ERROR_CODE)
    {
      case ERROR_CREATE_FILE:
        stringAppend(errorText,sizeof(errorText),TR("create file: "));
        break;
      case ERROR_OPEN_FILE:
        stringAppend(errorText,sizeof(errorText),TR("open file: "));
        break;
      case ERROR_CREATE_DIRECTORY:
        stringAppend(errorText,sizeof(errorText),TR("create directory: "));
        break;
      case ERROR_OPEN_DIRECTORY:
        stringAppend(errorText,sizeof(errorText),TR("open directory: "));
        break;
    }
*/
    stringSet(errorText,sizeof(errorText),TR("open directory: "));
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }

ERROR READ_DIRECTORY                   TR("read directory fail")

// Note: because of name clash with Windows include use FILE_EXISTS_ instead of FILE_EXISTS
ERROR FILE_EXISTS_
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("file '%s' already exists"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("file already exists"));
  }

// Note: because of name clash with Windows include use FILE_NOT_FOUND_ instead of FILE_NOT_FOUND
ERROR FILE_NOT_FOUND_
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("file '%s' not found"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("file not found"));
  }

ERROR NOT_A_DIRECTORY
  stringSet(errorText,sizeof(errorText),TR("not a directory"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

ERROR END_OF_DIRECTORY                 TR("end of directory list")

ERROR INSUFFICIENT_FILE_NOTIFY         TR("insufficient file notify entries")

// --- optical disk i/o -------------------------------------------------
ERROR OPTICAL_DISK_NOT_FOUND
  stringSet(errorText,sizeof(errorText),TR("CD/DVD/BD device"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }
  stringAppend(errorText,sizeof(errorText),TR(" not found"));

ERROR OPEN_OPTICAL_DISK
  stringSet(errorText,sizeof(errorText),TR("open CD/DVD/BD disk"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }
  stringAppend(errorText,sizeof(errorText),TR(" fail"));

ERROR OPEN_ISO9660_FILE
  stringSet(errorText,sizeof(errorText),TR("open ISO 9660 image"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }
  stringAppend(errorText,sizeof(errorText),TR(" fail"));

// --- device i/o -------------------------------------------------------
ERROR NO_DEVICE_NAME                   TR("no device name given")

ERROR OPEN_DEVICE
  stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

ERROR INVALID_DEVICE_BLOCK_SIZE        TR("invalid device block size")
ERROR READ_DEVICE                      TR("read device fail")
ERROR WRITE_DEVICE                     TR("write device fail")
ERROR PARSE_DEVICE_LIST                TR("error parsing device list")

ERROR MOUNT
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("mount '%s' fail"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("mount fail"));
  }

ERROR UMOUNT
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR("unmount '%s' fail"),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("unmount fail"));
  }

// --- archive ----------------------------------------------------------
ERROR NO_ARCHIVE_FILE_NAME             TR("no archive file name given")
ERROR NOT_AN_ARCHIVE_FILE              TR("not an archive file")
ERROR ARCHIVE_NOT_FOUND                TR("archive not found")
ERROR END_OF_ARCHIVE                   TR("end of archive")
ERROR NO_META_ENTRY                    TR("no meta entry")
ERROR NO_FILE_ENTRY                    TR("no file entry")
ERROR NO_FILE_DATA
  stringSet(errorText,sizeof(errorText),TR("no file data entry"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),TR(" for '%s'"),ERROR_DATA);
  }

ERROR NO_DIRECTORY_ENTRY               TR("no directory entry")
ERROR NO_LINK_ENTRY                    TR("no link entry")
ERROR NO_HARDLINK_ENTRY                TR("no hard link entry")
ERROR NO_SPECIAL_ENTRY                 TR("no special entry")
ERROR NO_IMAGE_ENTRY                   TR("no image entry")
ERROR NO_IMAGE_DATA                    TR("no image data entry")
ERROR END_OF_DATA                      TR("end of data")
ERROR INCOMPLETE_ARCHIVE               TR("incomplete archive")
ERROR INSUFFICIENT_SPLIT_NUMBERS       TR("insufficient split number digits in name")

// Note: because of name clash with Windows include use CRC_ instead of CRC
ERROR CRC_
  stringSet(errorText,sizeof(errorText),TR("wrong CRC"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringAppend(errorText,sizeof(errorText),TR(" at offset "));
    stringAppend(errorText,sizeof(errorText),ERROR_DATA);
  }

ERROR ENTRY_NOT_FOUND
  stringSet(errorText,sizeof(errorText),TR("entry not found"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

ERROR ENTRY_INCOMPLETE
  stringSet(errorText,sizeof(errorText),TR("entry is incomplete"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

ERROR WRONG_ENTRY_TYPE
  stringSet(errorText,sizeof(errorText),TR("wrong entry type"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

ERROR ENTRIES_DIFFER
  stringSet(errorText,sizeof(errorText),TR("entries differ"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

ERROR CORRUPT_DATA
  stringSet(errorText,sizeof(errorText),TR("corrupt data or invalid password"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": '%s'",ERROR_DATA);
  }

ERROR INVALID_CHUNK_SIZE               TR("invalid chunk size")
ERROR UNKNOWN_CHUNK
  stringSet(errorText,sizeof(errorText),TR("unknown chunk"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR INVALID_SIGNATURE                TR("invalid signature")

// --- incremental files ------------------------------------------------
ERROR NOT_AN_INCREMENTAL_FILE          TR("invalid incremental file")
ERROR WRONG_INCREMENTAL_FILE_VERSION   TR("wrong incremental file version")
ERROR CORRUPT_INCREMENTAL_FILE         TR("corrupt incremental file")

// --- device -----------------------------------------------------------
ERROR INVALID_DEVICE_SPECIFIER         TR("invalid device specifier")
ERROR LOAD_VOLUME_FAIL                 TR("load volume fail")

// --- exec -------------------------------------------------------------
ERROR PARSE_COMMAND                    TR("parse command fail")
ERROR EXPAND_TEMPLATE                  TR("expand command template fail")
ERROR FORK_FAIL                        TR("fork for execute external program fail")
ERROR IO_REDIRECT_FAIL
  stringSet(errorText,sizeof(errorText),strerror(ERROR_ERRNO));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR EXEC_FAIL
  stringSet(errorText,sizeof(errorText),TR("execute external program fail"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s' (exitcode: %d)",ERROR_DATA,ERROR_ERRNO);
  }

// --- BARControl protocol ----------------------------------------------
ERROR PARSE
  stringSet(errorText,sizeof(errorText),TR("parsing data"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," %s",ERROR_DATA);
  }

ERROR UNKNOWN_COMMAND
  stringSet(errorText,sizeof(errorText),TR("unknown command"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }

ERROR EXPECTED_PARAMETER
  stringSet(errorText,sizeof(errorText),TR("expected parameter"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," %s",ERROR_DATA);
  }

ERROR UNKNOWN_VALUE
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringSet(errorText,sizeof(errorText),ERROR_DATA);
  }
  else
  {
    stringSet(errorText,sizeof(errorText),TR("unknown value"));
  }

ERROR INVALID_VALUE
  stringSet(errorText,sizeof(errorText),TR("invalid value"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }

ERROR AUTHORIZATION                    TR("authorization")
ERROR JOB_NOT_FOUND                    TR("job not found")
ERROR JOB                              TR("job error")

// --- index database (SQLite3) -----------------------------------------
ERROR DATABASE
  stringSet(errorText,sizeof(errorText),TR("database"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText),": %s",ERROR_DATA);
  }

ERROR DATABASE_VERSION_UNKNOWN         TR("unknown version on index")
ERROR DATABASE_MISSING_TABLE
  stringSet(errorText,sizeof(errorText),TR("missing table"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }

ERROR DATABASE_MISSING_COLUMN
  stringSet(errorText,sizeof(errorText),TR("missing column"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }

ERROR DATABASE_OBSOLETE_TABLE
  stringSet(errorText,sizeof(errorText),TR("obsolete table"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }

ERROR DATABASE_OBSOLETE_COLUMN
  stringSet(errorText,sizeof(errorText),TR("obsolete column"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }

ERROR DATABASE_TYPE_MISMATCH
  stringSet(errorText,sizeof(errorText),TR("type mismatch"));
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," '%s'",ERROR_DATA);
  }

ERROR DATABASE_CREATE_INDEX            TR("error creating index")
ERROR DATABASE_INDEX_NOT_FOUND         TR("index not found")
ERROR DATABASE_INDEX_NOT_READY         TR("index still not initialized")
ERROR DATABASE_INVALID_INDEX           TR("invalid index")
ERROR DATABASE_TIMEOUT                 TR("timeout accessing index")

// --- mastesr/slave ----------------------------------------------------
ERROR MASTER_DISCONNECED               TR("master disconnected")
ERROR SLAVE_DISCONNECTED               TR("slave disconnected")
ERROR NOT_PAIRED                       TR("slave is not paired")

// --- debugging only ---------------------------------------------------
ERROR TESTCODE
  stringSet(errorText,sizeof(errorText),"test code");
  if (!stringIsEmpty(ERROR_DATA))
  {
    stringFormatAppend(errorText,sizeof(errorText)," %s",ERROR_DATA);
  }
// end of file
